syntax = "proto3";
package computer_vision_sports_proto;

service OpenCVAndPoseService {
    rpc GetOpenPoseImage(GetOpenPoseImageRequest) returns (GetOpenPoseImageResponse) {}
    rpc GetOpenPoseData(GetOpenPoseDataRequest) returns (GetOpenPoseDataResponse) {}
    rpc GetOpenPoseHandImage(GetOpenPoseHandImageRequest) returns (GetOpenPoseHandImageResponse) {}
    rpc GetOpenPoseHandData(GetOpenPoseHandDataRequest) returns (GetOpenPoseHandDataResponse) {}
    rpc GetOpenPoseAll(GetOpenPoseAllRequest) returns (GetOpenPoseAllResponse) {}

    rpc GetOpenPoseImagesFromVideo(stream GetOpenPoseImageRequest) returns (stream GetOpenPoseImageResponse) {}
    rpc GetOpenPoseDataFromVideo(stream GetOpenPoseDataRequest) returns (stream GetOpenPoseDataResponse) {}
    rpc GetOpenPoseHandImagesFromVideo(stream GetOpenPoseHandImageRequest) returns (stream GetOpenPoseHandImageResponse) {}
    rpc GetOpenPoseHandDataFromVideo(stream GetOpenPoseHandDataRequest) returns (stream GetOpenPoseHandDataResponse) {}
    rpc GetOpenPoseAllFromVideo(stream GetOpenPoseAllRequest) returns (stream GetOpenPoseAllResponse) {}
}

message GetOpenPoseImageRequest {
    bytes image = 1;
}

message GetOpenPoseImageResponse {
    bool success = 1;
    bytes image = 2;
}

message GetOpenPoseDataRequest {
    bytes image = 1;
}

message GetOpenPoseDataResponse {
    bool success = 1;
    Body25PoseKeypoints keypoints = 2;
}

message GetOpenPoseHandImageRequest {
    bytes image = 1;
}

message GetOpenPoseHandImageResponse {
    bool success = 1;
    bytes image = 2;
}

message GetOpenPoseHandDataRequest {
    bytes image = 1;
}

message GetOpenPoseHandDataResponse {
    bool success = 1;
    Body25HandKeypoints keypoints = 2;
}

message GetOpenPoseAllRequest {
    bytes image = 1;
}

message GetOpenPoseAllResponse {
    bool success = 1;
    bytes image = 2;
    Body25PoseKeypoints pose_keypoints = 3;
    Body25HandKeypoints hand_keypoints = 4;
}

message Body25PoseKeypoints {
    Keypoint nose = 1;
    Keypoint neck = 2;
    Keypoint r_shoulder = 3;
    Keypoint r_elbow = 4;
    Keypoint r_wrist = 5;
    Keypoint l_shoulder = 6;
    Keypoint l_elbow = 7;
    Keypoint l_wrist = 8;
    Keypoint midhip = 9;
    Keypoint r_hip = 10;
    Keypoint r_knee = 11;
    Keypoint r_ankle = 12;
    Keypoint l_hip = 13;
    Keypoint l_knee = 14;
    Keypoint l_ankle = 15;
    Keypoint r_eye = 16;
    Keypoint l_eye = 17;
    Keypoint r_ear = 18;
    Keypoint l_ear = 19;
    Keypoint l_big_toe = 20;
    Keypoint l_small_toe = 21;
    Keypoint l_heel = 22;
    Keypoint r_big_toe = 23;
    Keypoint r_small_toe = 24;
    Keypoint r_heel = 25;
}

message Body25HandKeypoints {
    Keypoint l_wrist = 1;
    Keypoint l_thumb1 = 2;
    Keypoint l_thumb2 = 3;
    Keypoint l_thumb3 = 4;
    Keypoint l_thumb = 5;
    Keypoint l_index1 = 6;
    Keypoint l_index2 = 7;
    Keypoint l_index3 = 8;
    Keypoint l_index = 9;
    Keypoint l_middle1 = 10;
    Keypoint l_middle2 = 11;
    Keypoint l_middle3 = 12;
    Keypoint l_middle = 13;
    Keypoint l_ring1 = 14;
    Keypoint l_ring2 = 15;
    Keypoint l_ring3 = 16;
    Keypoint l_ring = 17;
    Keypoint l_pinky1 = 18;
    Keypoint l_pinky2 = 19;
    Keypoint l_pinky3 = 20;
    Keypoint l_pinky = 21;
    Keypoint r_wrist = 22;
    Keypoint r_thumb1 = 23;
    Keypoint r_thumb2 = 24;
    Keypoint r_thumb3 = 25;
    Keypoint r_thumb = 26;
    Keypoint r_index1 = 27;
    Keypoint r_index2 = 28;
    Keypoint r_index3 = 29;
    Keypoint r_index = 30;
    Keypoint r_middle1 = 31;
    Keypoint r_middle2 = 32;
    Keypoint r_middle3 = 33;
    Keypoint r_middle = 34;
    Keypoint r_ring1 = 35;
    Keypoint r_ring2 = 36;
    Keypoint r_ring3 = 37;
    Keypoint r_ring = 38;
    Keypoint r_pinky1 = 39;
    Keypoint r_pinky2 = 40;
    Keypoint r_pinky3 = 41;
    Keypoint r_pinky = 42;
}

message Keypoint {
    double x = 1;
    double y = 2;
    double confidence = 3;
}
